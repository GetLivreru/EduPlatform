# Деплой EduPlatform в Vercel

## Подготовка проекта

1. **Убедитесь, что все изменения сохранены в Git:**
   ```bash
   git add .
   git commit -m "Prepare for Vercel deployment"
   git push origin main
   ```

## Настройка Vercel

### 1. Создание аккаунта и подключение проекта

1. Зайдите на [vercel.com](https://vercel.com)
2. Войдите через GitHub
3. Нажмите "New Project"
4. Выберите ваш репозиторий EduPlatform
5. Нажмите "Import"

### 2. Настройка переменных окружения

В настройках проекта в Vercel добавьте следующие переменные окружения:

#### Обязательные переменные:
- `MONGODB_URL` - строка подключения к MongoDB Atlas
- `JWT_SECRET` - секретный ключ для JWT токенов
- `OPENAI_API_KEY` - ключ OpenAI API

#### Дополнительные переменные (для AWS S3):
- `AWS_ACCESS_KEY_ID` - ключ доступа AWS
- `AWS_SECRET_ACCESS_KEY` - секретный ключ AWS
- `AWS_REGION` - регион AWS (например, us-east-1)
- `S3_BUCKET_NAME` - имя S3 бакета

#### Для Redis (опционально):
- `REDIS_URL` - URL подключения к Redis

### 3. Настройка сборки

Vercel автоматически определит настройки сборки из `vercel.json`, но убедитесь что:

- Build Command: `npm run build`
- Output Directory: `frontend/dist`

## Проверка деплоя

После успешного деплоя:

1. Откройте ваш сайт по предоставленному URL
2. Проверьте работу основных функций:
   - Регистрация/вход
   - Просмотр квизов
   - Создание квизов (для преподавателей)
   - Загрузка документов и генерация квизов ИИ

## Возможные проблемы

### Проблема с CORS
Если возникают ошибки CORS, добавьте в `backend/main.py`:
```python
app.add_middleware(
    CORSMiddleware,
    allow_origins=["https://your-domain.vercel.app"],
    allow_credentials=True,
    allow_methods=["*"],
    allow_headers=["*"],
)
```

### Проблемы с базой данных
- Убедитесь, что MongoDB Atlas настроен для доступа из любого IP (0.0.0.0/0)
- Проверьте правильность строки подключения

### Проблемы с API ключами
- Убедитесь, что все API ключи добавлены в переменные окружения Vercel
- OpenAI API ключ должен иметь достаточный лимит

## Обновление деплоя

После внесения изменений в код:
```bash
git add .
git commit -m "Update: описание изменений"
git push origin main
```

Vercel автоматически пересоберет и задеплоит новую версию.

## Мониторинг

- Логи деплоя доступны в панели Vercel
- Функции бэкенда работают как serverless функции
- Время выполнения ограничено (обычно 10-60 секунд в зависимости от тарифа) 